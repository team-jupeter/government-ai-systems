<style>
    .pdv-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem;
    }

    .pdv-header {
        background: white; border: 2px solid #9CA3AF;
        color: white;
        padding: 2rem;
        border-radius: 12px;
        margin-bottom: 2rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .pdv-header h1 {
        color: #000000;
        margin: 0 0 0.5rem 0;
        font-size: 28px;
        font-weight: 700;
    }

    .pdv-header p {
        color: #4B5563;
        margin: 0;
        font-size: 16px;
        opacity: 0.9;
    }

    .pdv-search-bar {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
    }

    .search-input-wrapper {
        display: flex;
        gap: 1rem;
        align-items: center;
    }

    .search-input {
        flex: 1;
        padding: 0.8rem 1.2rem;
        border: 2px solid #E5E7EB;
        border-radius: 8px;
        font-size: 15px;
        font-family: 'Noto Sans KR', sans-serif;
        transition: border-color 0.2s;
    }

    .search-input:focus {
        outline: none;
        border-color: #667eea;
    }

    .search-button {
        padding: 0.8rem 2rem;
        background: #667eea;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.2s;
    }

    .search-button:hover {
        background: #5568d3;
    }

    .pdv-stats {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    .stat-number {
        font-size: 32px;
        font-weight: 700;
        color: #667eea;
        margin-bottom: 0.5rem;
    }

    .stat-label {
        font-size: 14px;
        color: #6B7280;
    }

    .conversation-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 1.5rem;
    }

    .conversation-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 0.3s ease;
        border-left: 4px solid #667eea;
    }

    .conversation-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
    }

    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
    }

    .card-category {
        background: #667eea;
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
    }

    .card-date {
        font-size: 13px;
        color: #6B7280;
    }

    .card-title {
        font-size: 18px;
        font-weight: 700;
        color: #1F2937;
        margin-bottom: 0.8rem;
    }

    .card-summary {
        font-size: 14px;
        color: #4B5563;
        line-height: 1.6;
        margin-bottom: 1rem;
    }

    .card-5w1h {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
        font-size: 13px;
    }

    .w-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: #6B7280;
    }

    .w-label {
        font-weight: 600;
        color: #667eea;
    }

    .empty-state {
        text-align: center;
        padding: 4rem 2rem;
        color: #6B7280;
    }

    .empty-state-icon {
        font-size: 64px;
        margin-bottom: 1rem;
        opacity: 0.5;
    }

    .empty-state-text {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .empty-state-subtext {
        font-size: 14px;
        opacity: 0.8;
    }

    /* ëŒ€í™” ìƒì„¸ ëª¨ë‹¬ */
    .conversation-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        display: none;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .conversation-modal.active {
        display: flex;
        opacity: 1;
    }

    .modal-content {
        background: white;
        border-radius: 16px;
        width: 90%;
        max-width: 800px;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: modalSlideUp 0.3s ease;
    }

    @keyframes modalSlideUp {
        from {
            transform: translateY(50px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .modal-header {
        padding: 1.5rem 2rem;
        border-bottom: 1px solid #E5E7EB;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .modal-header h2 {
        margin: 0;
        font-size: 20px;
        font-weight: 700;
        color: #1F2937;
    }

    .modal-close {
        background: none;
        border: none;
        font-size: 32px;
        color: #6B7280;
        cursor: pointer;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.2s;
        line-height: 1;
    }

    .modal-close:hover {
        background: #F3F4F6;
        color: #1F2937;
    }

    .modal-body {
        flex: 1;
        overflow-y: auto;
        padding: 2rem;
    }

    .modal-metadata {
        background: #F9FAFB;
        padding: 1.5rem;
        border-radius: 12px;
        margin-bottom: 2rem;
    }

    .metadata-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }

    .metadata-item {
        display: flex;
        gap: 0.5rem;
    }

    .metadata-label {
        font-weight: 700;
        color: #667eea;
        min-width: 80px;
    }

    .metadata-value {
        color: #4B5563;
    }

    .modal-messages {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .modal-message {
        display: flex;
        gap: 1rem;
        max-width: 85%;
    }

    .modal-message.user {
        align-self: flex-end;
        flex-direction: row-reverse;
    }

    .modal-message.assistant {
        align-self: flex-start;
    }

    .message-role {
        font-size: 12px;
        font-weight: 700;
        color: #667eea;
        text-transform: uppercase;
        min-width: 80px;
        padding-top: 0.3rem;
    }

    .modal-message.user .message-role {
        color: #2196F3;
        text-align: right;
    }

    .message-content {
        background: #F3F4F6;
        padding: 1rem 1.2rem;
        border-radius: 12px;
        font-size: 15px;
        line-height: 1.6;
        color: #1F2937;
        flex: 1;
    }

    .modal-message.user .message-content {
        background: #2196F3;
        color: white;
    }


    .pcard { background: white; border: 2px solid #E5E7EB; border-radius: 8px; transition: all 0.3s; cursor: pointer; color: #1F2937; }
    .pcard:hover { border-color: #3B82F6; box-shadow: 0 4px 12px rgba(59,130,246,0.15); transform: translateY(-2px); }
    .pcard.active { border-color: #3B82F6; background: #EFF6FF; }
    .floating-pdv-btn { position: fixed; top: 180px; right: 30px; z-index: 999; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 10px 20px; border-radius: 20px; text-decoration: none; box-shadow: 0 4px 12px rgba(102,126,234,0.4); display: flex; align-items: center; gap: 6px; font-weight: 600; font-size: 13px; transition: all 0.3s; }
    .floating-pdv-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(102,126,234,0.5); }
</style>

<a href="http://100.30.14.224/private-data-vault/" target="_blank" class="floating-pdv-btn"><span>ğŸ”</span><span>PDV ê³µì‹ ì‚¬ì´íŠ¸</span></a>
<div class="pdv-container">
    <!-- í—¤ë” -->
    <div class="pdv-header">
        <h1>ğŸ“š Personal Data Vault (PDV)</h1>
        <p>ë‚˜ì˜ ëª¨ë“  AI ìƒë‹´ ê¸°ë¡ì„ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
    </div>


    <!-- PDV ì†Œê°œ íŒ¨ë„ -->
    <div style="background: #F0F4F8; border-left: 4px solid #0B4DA2; padding: 24px; margin: 2rem 0; line-height: 1.8; font-size: 14px;">
        <p style="margin-bottom: 16px;">
            ê·€í•˜ì˜ <strong>ê°œì¸ì •ë³´ê¸ˆê³ (PDV)</strong>ëŠ” ì£¼ë¯¼ë“±ë¡ì¦, ìš´ì „ë©´í—ˆì¦, ì¡¸ì—…ì¦ëª…ì„œ, ê±´ê°• ì§„ë£Œ ê¸°ë¡ ë“± ê·€í•˜ì˜ <strong>ëª¨ë“  ê°œì¸ ì •ë³´ì™€ ì¼ìƒ í™œë™ì„ ê¸°ë¡</strong>í•˜ë©°, ì´ ê¸°ë¡ì€ <strong>Openhash ê¸°ìˆ ì— ì˜í•´ ì ˆëŒ€ ìœ„ë³€ì¡°ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</strong>
        </p>
        
        <p style="margin-bottom: 16px;">
            ê·€í•˜ì˜ PDVëŠ” <strong>ê·€í•˜ì˜ ìŠ¤ë§ˆíŠ¸í°ì´ë‚˜ ë…¸íŠ¸ë¶, ë°ìŠ¤í¬íƒ‘ ë“± ê·€í•˜ê°€ ì§€ì •í•˜ëŠ” ìœ„ì¹˜ì— ì•”í˜¸í™”ë˜ì–´ ì•ˆì „í•˜ê²Œ ì €ì¥</strong>ë˜ë©°, <strong>ì˜¤ì§ ê·€í•˜ì˜ ìƒì²´ì •ë³´ì™€ ì•”í˜¸ë§Œìœ¼ë¡œ í•´ë…</strong>ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
        
        <p style="margin-bottom: 16px;">
            <strong>í•œêµ­ì˜ 5ì²œë§Œ ì¸êµ¬ê°€ ì œê°ê¸° ê°ìì˜ ì»´í“¨í„° í˜¹ì€ ê·€í•˜ê°€ ì§€ì •í•˜ëŠ” í´ë¼ìš°ë“œì— ì €ì¥</strong>í•˜ë¯€ë¡œ, <strong>ëŒ€ê·œëª¨ í•´í‚¹ì€ ë¬¼ë¡  ë‘ ëª… ì´ìƒì˜ ë™ì‹œ í•´í‚¹ ê°€ëŠ¥ì„±ì€ ì§€ê·¹íˆ ë‚®ìŠµë‹ˆë‹¤.</strong> ë‹¨ í•˜ë‚˜ì˜ PDVê°€ í•´í‚¹ë˜ë”ë¼ë„, <strong>Openhash ë„¤íŠ¸ì›Œí¬ëŠ” ì¦‰ì‹œ ë°©ì–´ë§‰ì„ ì‘ë™</strong>í•˜ì—¬, <strong>ì¹¨ì…ìë¥¼ ë°œë³¸ìƒ‰ì›</strong>í•©ë‹ˆë‹¤.
        </p>
        
        <p style="margin-bottom: 16px;">
            ê·€í•˜ì˜ PDVëŠ” <strong>ì˜¤ì§ ê·€í•˜ê°€ ì›í•˜ëŠ” ì‹œì ì—, ê·€í•˜ì˜ ìŠ¹ì¸ í•˜ì—, ê·€í•˜ê°€ ì§€ì •í•œ ëŒ€ìƒì—ê²Œ, ê·€í•˜ê°€ ì§€ì •í•œ ì •ë³´ë¥¼ ì œê³µ</strong>í•©ë‹ˆë‹¤.
        </p>
        
        <p style="margin-bottom: 16px;">
            ì´ í˜ì´ì§€ëŠ” ê·€í•˜ê°€ <strong>ê° ê¸°ê´€ì˜ AI ìƒë‹´ì°½ì— ëŒ€í™”í•œ ë‚´ìš©, ì œì¶œí•œ ë¬¸ì„œ, ê¸°ê´€ì˜ ë‹µë³€ ë“±ì„ PDVì— ì €ì¥í•˜ëŠ” ë™ì‘</strong>ì„ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.
        </p>
        
        <p style="margin-bottom: 16px;">
            ê·€í•˜ì™€ <strong>ë³‘ì›, ë„ì²­, ë²•ì›, ê¸°ì—…, ì‹ë‹¹ ë“± ê°ì¢… ê¸°ê´€ ê°„ì— ëŒ€í™”ë¥¼ í•˜ê±°ë‚˜, ì„œë¥˜ë¥¼ ì œì¶œí•˜ê±°ë‚˜, ë¬¸ì„œë¥¼ ì „ë‹¬ë°›ëŠ” ë“±ì˜ í™œë™ì´ PDVì— ê¸°ë¡ë˜ëŠ” ê³¼ì •</strong>ì„ ì§ì ‘ ê²½í—˜í•´ ë³´ì„¸ìš”.
        </p>
        
        <p style="margin-bottom: 0;">
            ë˜í•œ, ìƒë‹¨ <strong>"ì˜¤í”ˆí•´ì‹œ" ì‚¬ì´íŠ¸</strong>ë¥¼ ë°©ë¬¸í•˜ì—¬, <strong>ì˜¤í”ˆí•´ì‹œ ê¸°ìˆ ë¡œ PDV ê¸°ë¡ì˜ ìœ„ë³€ì¡°ë¥¼ ë°©ì§€í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜</strong>ì„ ì•Œì•„ë³´ì„¸ìš”.
        </p>
    </div>

    <!-- PDV í•µì‹¬ ê¸°ëŠ¥ -->
    <div style="margin: 2rem 0;">
        <h2 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 1rem;">ğŸ” PDV í•µì‹¬ ê¸°ëŠ¥</h2>
        
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 0.75rem; margin-bottom: 1rem;">
            <div class="pcard" onclick="showPdvDetail('auth')"><div style="padding: 1.25rem; text-align: center; min-height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><div style="font-size: 32px;">ğŸ”</div><div style="font-size: 0.875rem; font-weight: 600; margin-top: 0.5rem;">3ë‹¨ê³„ ë³¸ì¸ ì¸ì¦</div></div></div>
            <div class="pcard" onclick="showPdvDetail('encrypt')"><div style="padding: 1.25rem; text-align: center; min-height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><div style="font-size: 32px;">ğŸ›¡ï¸</div><div style="font-size: 0.875rem; font-weight: 600; margin-top: 0.5rem;">3ë‹¨ê³„ ì•”í˜¸í™”</div></div></div>
            <div class="pcard" onclick="showPdvDetail('integrity')"><div style="padding: 1.25rem; text-align: center; min-height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><div style="font-size: 32px;">ğŸ”—</div><div style="font-size: 0.875rem; font-weight: 600; margin-top: 0.5rem;">ë°ì´í„° ë¬´ê²°ì„±</div></div></div>
            <div class="pcard" onclick="showPdvDetail('verify')"><div style="padding: 1.25rem; text-align: center; min-height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><div style="font-size: 32px;">âœ…</div><div style="font-size: 0.875rem; font-weight: 600; margin-top: 0.5rem;">êµì°¨ ê²€ì¦</div></div></div>
            <div class="pcard" onclick="showPdvDetail('legal')"><div style="padding: 1.25rem; text-align: center; min-height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><div style="font-size: 32px;">ğŸ“œ</div><div style="font-size: 0.875rem; font-weight: 600; margin-top: 0.5rem;">ë²•ì  ì¦ëª…</div></div></div>
            <div class="pcard" onclick="showPdvDetail('access')"><div style="padding: 1.25rem; text-align: center; min-height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><div style="font-size: 32px;">ğŸ”‘</div><div style="font-size: 0.875rem; font-weight: 600; margin-top: 0.5rem;">ì ‘ê·¼ ê¶Œí•œ</div></div></div>
        </div>
        
        <div id="pdvDetail" style="display: none; background: #F9FAFB; border: 2px solid #E5E7EB; border-radius: 8px; padding: 2rem; margin-top: 1rem;">
            <div id="d-auth" style="display: none;"><h3 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem;">ğŸ” 3ë‹¨ê³„ ë³¸ì¸ ì¸ì¦ ì‹œìŠ¤í…œ</h3><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">1ë‹¨ê³„: ìƒì²´ì •ë³´ + ê°œì¸ë¹„ë°€ë²ˆí˜¸</strong><br>â€¢ ì–¼êµ´ ì¸ì‹ (99.7%), ì§€ë¬¸ ì¸ì‹ (99.8%), ìŒì„± ì¸ì‹ (99.5%)<br>â€¢ ê°œì¸ ë¹„ë°€ë²ˆí˜¸(PIN) í™•ì¸<br>â€¢ ì¢…í•© ì ìˆ˜ 95% ì´ìƒ í†µê³¼</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">2ë‹¨ê³„: AI ê°œì¸í™” ì§ˆë¬¸ + ì‹¤ì‹œê°„ ì¸ì¦ë²ˆí˜¸</strong><br>â€¢ AI ë§ì¶¤ ì§ˆë¬¸ (ì˜ˆ: "ì‘ë…„ ê°€ì¥ ë§ì´ êµ¬ë§¤í•œ ìƒí’ˆ?")<br>â€¢ ë³¸ì¸ë§Œ ì•„ëŠ” í™œë™ ê¸°ë¡ ê¸°ë°˜<br>â€¢ 30ì´ˆë§ˆë‹¤ ë³€ê²½ë˜ëŠ” ë™ì  ì¸ì¦ë²ˆí˜¸</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">3ë‹¨ê³„: ì˜¤í”ˆí•´ì‹œ ê¸°ë°˜ ë¶„ì‚° ê²€ì¦</strong><br>â€¢ ì—¬ëŸ¬ ê²€ì¦ ì„œë²„ì—ì„œ ë™ì‹œ ì‹ ì› í™•ì¸<br>â€¢ ê³¼ë°˜ìˆ˜ ìŠ¹ì¸ í•„ìš”<br>â€¢ ëª¨ë“  ê³¼ì •ì´ ì˜¤í”ˆí•´ì‹œì— íˆ¬ëª… ê¸°ë¡</p></div>
            <div id="d-encrypt" style="display: none;"><h3 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem;">ğŸ›¡ï¸ 3ë‹¨ê³„ ì•”í˜¸í™” ë³´ì•ˆ ì‹œìŠ¤í…œ</h3><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">1ë‹¨ê³„: ëœë¤ ì•”í˜¸í™” ì—´ì‡  ìƒì„±</strong><br>â€¢ 256ë¹„íŠ¸ ì•”í˜¸í‚¤ ë¬´ì‘ìœ„ ìƒì„±</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">2ë‹¨ê³„: AES-256 ì•”í˜¸í™”</strong><br>â€¢ êµ°ì‚¬ìš© ìˆ˜ì¤€ ìµœê³  ë³´ì•ˆ<br>â€¢ ë°ì´í„° ì™„ì „ ì•”í˜¸í™”</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">3ë‹¨ê³„: RSA-4096 í‚¤ ì•”í˜¸í™”</strong><br>â€¢ ì•”í˜¸í‚¤ ìì²´ë¥¼ ì¬ì•”í˜¸í™”<br>â€¢ ê°œì¸í‚¤ ì—†ì´ëŠ” ì ˆëŒ€ í•´ë… ë¶ˆê°€</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">ë™í˜•ì•”í˜¸ ê¸°ìˆ </strong><br>â€¢ í•´ë… ì—†ì´ AI ë¶„ì„ ê°€ëŠ¥<br>â€¢ ê°œì¸ì •ë³´ ì™„ì „ ë³´í˜¸</p></div>
            <div id="d-integrity" style="display: none;"><h3 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem;">ğŸ”— ì˜¤í”ˆí•´ì‹œ ê¸°ë°˜ ë°ì´í„° ë¬´ê²°ì„±</h3><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">SHA-256 í•´ì‹œ ìƒì„±</strong><br>â€¢ ì €ì¥ ì‹œë§ˆë‹¤ ë””ì§€í„¸ ì§€ë¬¸ ìƒì„±<br>â€¢ ì˜¤í”ˆí•´ì‹œ ì²´ì¸ì— ê¸°ë¡<br>â€¢ ë³€ì¡° ìë™ í™•ì¸</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">4ê³„ì¸µ ë¶„ì‚° ê²€ì¦</strong><br>â€¢ Layer 1(70%), Layer 2(20%), Layer 3(9%), Layer 4(1%)</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">ì„±ëŠ¥</strong><br>â€¢ 25,907 records/sec<br>â€¢ ë¸”ë¡ì²´ì¸ ëŒ€ë¹„ 1,727~3,701ë°° ë¹ ë¦„<br>â€¢ ì—ë„ˆì§€ 98.5% ì ˆê°</p></div>
            <div id="d-verify" style="display: none;"><h3 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem;">âœ… ìë™ êµì°¨ ê²€ì¦ ì‹œìŠ¤í…œ</h3><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">í•´ì‹œ ìë™ ë¹„êµ</strong><br>â€¢ ê±°ë˜ ë‹¹ì‚¬ì ê°„ í•´ì‹œê°’ ë¹„êµ<br>â€¢ ë¶ˆì¼ì¹˜ ì¦‰ì‹œ íƒì§€</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</strong><br>â€¢ AIê°€ 24ì‹œê°„ ê°ì‹œ<br>â€¢ 0.3ì´ˆ ì´ë‚´ ë‹¹êµ­ í†µë³´<br>â€¢ í•´ì‹œê°’ë§Œ ì „ì†¡ (ì›ë³¸ ë³´í˜¸)</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">ê´€ë ¨ ë‹¹êµ­</strong><br>â€¢ êµ­ì„¸ì²­, ê¸ˆìœµê°ë…ì›, ê²½ì°°ì²­<br>â€¢ ëª¨ë“  í†µë³´ íˆ¬ëª… ê¸°ë¡</p></div>
            <div id="d-legal" style="display: none;"><h3 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem;">ğŸ“œ ë²•ì  ì¦ëª…ë ¥ í™•ë³´</h3><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">í•´ì‹œ ì²´ì¸ + íƒ€ì„ìŠ¤íƒ¬í”„</strong><br>â€¢ ëª¨ë“  ë³€ê²½ì‚¬í•­ ì²´ì¸ ì—°ê²°<br>â€¢ ì •í™•í•œ ì‹œê°„ ê¸°ë¡<br>â€¢ ìœ„ì¡° ë¶ˆê°€ëŠ¥í•œ ì¦ê±°</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">BLS ì„œëª… + Merkle Proof</strong><br>â€¢ ì§§ê³  ê°•ë ¥í•œ ì„œëª… (48 bytes)<br>â€¢ ìˆ˜í•™ì  ë¬´ê²°ì„± ì¦ëª…</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">QR ì½”ë“œ ê²€ì¦</strong><br>â€¢ ì œ3ì ë…ë¦½ ê²€ì¦<br>â€¢ ë²•ì›, ì„¸ë¬´ì„œ, ì€í–‰ ì¦‰ì‹œ í™•ì¸</p></div>
            <div id="d-access" style="display: none;"><h3 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 1rem; border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem;">ğŸ”‘ ì„¸ë°€í•œ ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬</h3><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">Master Key</strong><br>â€¢ PBKDF2HMAC (SHA-256, 100,000 iterations)<br>â€¢ Secure Enclave ì €ì¥</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">Shamir ë¹„ë°€ ë¶„ì‚°</strong><br>â€¢ Nê°œ ì¡°ê°ìœ¼ë¡œ ë¶„í• <br>â€¢ Mê°œ ì´ìƒìœ¼ë¡œ ë³µêµ¬<br>â€¢ ì•ˆì „í•œ ë³µêµ¬ ê°€ëŠ¥</p><p style="margin: 0.5rem 0; line-height: 1.7; font-size: 0.875rem; color: #4B5563;"><strong style="color: #1F2937;">ì„ì‹œ í‚¤ ë°œê¸‰</strong><br>â€¢ ì‹œê°„ ì œí•œ (1ì‹œê°„)<br>â€¢ íŠ¹ì • ë°ì´í„°ë§Œ ì ‘ê·¼<br>â€¢ ê°ì‚¬ ë¡œê·¸ íˆ¬ëª… ë³´ê´€</p></div>
        </div>
    </div>

    <!-- ê²€ìƒ‰ ë°” -->
    <div class="pdv-search-bar">
        <div class="search-input-wrapper">
            <input 
                type="text" 
                class="search-input" 
                id="pdvSearchInput" 
                placeholder="ëŒ€í™” ë‚´ìš©, ì¹´í…Œê³ ë¦¬, ë‚ ì§œë¡œ ê²€ìƒ‰í•˜ì„¸ìš”..."
                onkeypress="if(event.key==='Enter') searchConversations()"
            >
            <button class="search-button" onclick="searchConversations()">ğŸ” ê²€ìƒ‰</button>
        </div>
    </div>

    <!-- í†µê³„ -->
    <div class="pdv-stats">
        <div class="stat-card">
            <div class="stat-number" id="totalConversations">0</div>
            <div class="stat-label">ì´ ëŒ€í™”</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="thisWeekConversations">0</div>
            <div class="stat-label">ì´ë²ˆ ì£¼</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="thisMonthConversations">0</div>
            <div class="stat-label">ì´ë²ˆ ë‹¬</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="totalMessages">0</div>
            <div class="stat-label">ì´ ë©”ì‹œì§€</div>
        </div>
    </div>

    <!-- ëŒ€í™” ëª©ë¡ -->
    <div class="conversation-list" id="conversationList">
        <!-- ëŒ€í™” ì¹´ë“œê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
    </div>

    <!-- ë¹ˆ ìƒíƒœ -->
    <div class="empty-state" id="emptyState" style="display: none;">
        <div class="empty-state-icon">ğŸ’¬</div>
        <div class="empty-state-text">ì•„ì§ ì €ì¥ëœ ëŒ€í™”ê°€ ì—†ìŠµë‹ˆë‹¤</div>
        <div class="empty-state-subtext">AI ìƒë‹´ì„ ì‹œì‘í•˜ë©´ ëŒ€í™” ë‚´ìš©ì´ ìë™ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤</div>
    </div>

<!-- ëŒ€í™” ìƒì„¸ ë³´ê¸° ëª¨ë‹¬ -->
<div class="conversation-modal" id="conversationModal" onclick="closeConversationModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header">
            <h2 id="modalTitle">ëŒ€í™” ìƒì„¸</h2>
            <button class="modal-close" onclick="closeConversationModal()">Ã—</button>
        </div>
        <div class="modal-body">
            <div class="modal-metadata" id="modalMetadata"></div>
            <div class="modal-messages" id="modalMessages"></div>
        </div>
    </div>
</div>

</div>

<script>
(function() {
    // PDV ë°ì´í„° ì €ì¥ì†Œ (localStorage ì‚¬ìš©)
    const PDV_STORAGE_KEY = 'jeju_integrated_pdv';

    // PDV ë°ì´í„° êµ¬ì¡°
    // {
    //   id: timestamp,
    //   category: 'ì¹´í…Œê³ ë¦¬',
    //   service: 'ì„œë¹„ìŠ¤ëª…',
    //   timestamp: 'ISO datetime',
    //   who: 'ì‚¬ìš©ì',
    //   what: 'ì£¼ì œ',
    //   when: 'ë‚ ì§œ/ì‹œê°„',
    //   where: 'ìœ„ì¹˜/íƒ­',
    //   why: 'ëª©ì ',
    //   how: 'ë°©ë²•/ê²°ê³¼',
    //   messages: [{role, content}, ...],
    //   summary: 'ìš”ì•½'
    // }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    function initPDV() {
        loadConversations();
        updateStats();
    }

    // ëŒ€í™” ëª©ë¡ ë¡œë“œ
    function loadConversations() {
        const conversations = getStoredConversations();
        const listContainer = document.getElementById('conversationList');
        const emptyState = document.getElementById('emptyState');

        if (conversations.length === 0) {
            listContainer.innerHTML = '';
            emptyState.style.display = 'block';
            return;
        }

        emptyState.style.display = 'none';
        listContainer.innerHTML = '';

        // ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬
        conversations.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

        conversations.forEach(conv => {
            const card = createConversationCard(conv);
            listContainer.appendChild(card);
        });
    }

    // ëŒ€í™” ì¹´ë“œ ìƒì„±
    function createConversationCard(conv) {
        const card = document.createElement('div');
        card.className = 'conversation-card';
        card.onclick = () => showConversationDetail(conv.id);

        const date = new Date(conv.timestamp);
        const dateStr = date.toLocaleDateString('ko-KR', { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });

        card.innerHTML = `
            <div class="card-header">
                <span class="card-category">${conv.category || 'ì¼ë°˜'}</span>
                <span class="card-date">${dateStr}</span>
            </div>
            <div class="card-title">${conv.what || 'ì œëª© ì—†ìŒ'}</div>
            <div class="card-summary">${conv.summary || 'ìš”ì•½ ì—†ìŒ'}</div>
            <div class="card-5w1h">
                <div class="w-item">
                    <span class="w-label">Who:</span>
                    <span>${conv.who || '-'}</span>
                </div>
                <div class="w-item">
                    <span class="w-label">When:</span>
                    <span>${conv.when || '-'}</span>
                </div>
                <div class="w-item">
                    <span class="w-label">Where:</span>
                    <span>${conv.where || '-'}</span>
                </div>
                <div class="w-item">
                    <span class="w-label">Why:</span>
                    <span>${conv.why || '-'}</span>
                </div>
            </div>
        `;

        return card;
    }

    // localStorageì—ì„œ ëŒ€í™” ê°€ì ¸ì˜¤ê¸°
    function getStoredConversations() {
        const stored = localStorage.getItem(PDV_STORAGE_KEY);
        return stored ? JSON.parse(stored) : [];
    }

    // localStorageì— ëŒ€í™” ì €ì¥
    function saveConversation(conversation) {
        const conversations = getStoredConversations();
        conversations.push(conversation);
        localStorage.setItem(PDV_STORAGE_KEY, JSON.stringify(conversations));
    }

    // í†µê³„ ì—…ë°ì´íŠ¸
    function updateStats() {
        const conversations = getStoredConversations();
        const now = new Date();
        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
        const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);

        const thisWeek = conversations.filter(c => new Date(c.timestamp) > weekAgo).length;
        const thisMonth = conversations.filter(c => new Date(c.timestamp) > monthStart).length;
        const totalMessages = conversations.reduce((sum, c) => sum + (c.messages?.length || 0), 0);

        document.getElementById('totalConversations').textContent = conversations.length;
        document.getElementById('thisWeekConversations').textContent = thisWeek;
        document.getElementById('thisMonthConversations').textContent = thisMonth;
        document.getElementById('totalMessages').textContent = totalMessages;
    }

    // ëŒ€í™” ìƒì„¸ ë³´ê¸° (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ êµ¬í˜„)
    

    // ê²€ìƒ‰ (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ êµ¬í˜„)
    window.searchConversations = function() {
        const query = document.getElementById('pdvSearchInput').value;
        alert('ê²€ìƒ‰ ê¸°ëŠ¥ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ êµ¬í˜„ë©ë‹ˆë‹¤. ê²€ìƒ‰ì–´: ' + query);
    };

    // ì „ì—­ í•¨ìˆ˜ë¡œ ë…¸ì¶œ (ë‹¤ë¥¸ íƒ­ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥)
    window.saveToPDV = function(conversationData) {
        saveConversation(conversationData);
        console.log('PDVì— ëŒ€í™” ì €ì¥ë¨:', conversationData);
    };

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    setTimeout(initPDV, 100);

    // í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€ í•¨ìˆ˜
    window.addSamplePDVData = function() {
        const sample = {
            id: Date.now(),
            category: 'ì˜ë£Œ',
            service: 'ì§„ë£Œ ì˜ˆì•½',
            timestamp: new Date().toISOString(),
            who: 'ì‚¬ìš©ì',
            what: 'ì •í˜•ì™¸ê³¼ ì§„ë£Œ ì˜ˆì•½ ë¬¸ì˜',
            when: new Date().toLocaleString('ko-KR'),
            where: 'ì˜ë£Œ íƒ­',
            why: 'ë¬´ë¦ í†µì¦ ì§„ë£Œ',
            how: 'AI ìƒë‹´ì„ í†µí•´ ì˜ˆì•½ ë°©ë²• ì•ˆë‚´ë°›ìŒ',
            messages: [
                { role: 'user', content: 'ì •í˜•ì™¸ê³¼ ì˜ˆì•½í•˜ê³  ì‹¶ì–´ìš”' },
                { role: 'assistant', content: 'ì •í˜•ì™¸ê³¼ ì˜ˆì•½ì„ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤...' }
            ],
            summary: 'ì •í˜•ì™¸ê³¼ ì˜ˆì•½ ë°©ë²•ì— ëŒ€í•´ ìƒë‹´í•˜ê³  ì˜¨ë¼ì¸ ì˜ˆì•½ ë§í¬ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.'
        };
        saveToPDV(sample);
        loadConversations();
        updateStats();
        alert('ìƒ˜í”Œ ë°ì´í„°ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
    };
    // ëŒ€í™” ìƒì„¸ ë³´ê¸°
    function showConversationDetail(id) {
        const conversations = getStoredConversations();
        const conv = conversations.find(c => c.id === id);
        
        if (!conv) {
            alert('ëŒ€í™”ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            return;
        }
        
        const modal = document.getElementById('conversationModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMetadata = document.getElementById('modalMetadata');
        const modalMessages = document.getElementById('modalMessages');
        
        if (!modal) return;
        
        // ì œëª© ì„¤ì •
        modalTitle.textContent = conv.what || 'ëŒ€í™” ìƒì„¸';
        
        // ë©”íƒ€ë°ì´í„° ì„¤ì •
        modalMetadata.innerHTML = `
            <div class="metadata-grid">
                <div class="metadata-item">
                    <span class="metadata-label">Who:</span>
                    <span class="metadata-value">${conv.who || '-'}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">When:</span>
                    <span class="metadata-value">${conv.when || '-'}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Where:</span>
                    <span class="metadata-value">${conv.where || '-'}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Why:</span>
                    <span class="metadata-value">${conv.why || '-'}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">How:</span>
                    <span class="metadata-value">${conv.how || '-'}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Category:</span>
                    <span class="metadata-value">${conv.category || '-'}</span>
                </div>
            </div>
        `;
        
        // ë©”ì‹œì§€ ì„¤ì •
        if (conv.messages && conv.messages.length > 0) {
            modalMessages.innerHTML = conv.messages.map(msg => {
                const roleText = msg.role === 'user' ? 'You' : 'AI';
                return `
                    <div class="modal-message ${msg.role}">
                        <div class="message-role">${roleText}</div>
                        <div class="message-content">${escapeHtml(msg.content)}</div>
                    </div>
                `;
            }).join('');
        } else {
            modalMessages.innerHTML = '<p style="text-align: center; color: #6B7280;">ë©”ì‹œì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
        }
        
        // ëª¨ë‹¬ í‘œì‹œ
        modal.classList.add('active');
    }
    
    // ëª¨ë‹¬ ë‹«ê¸°
    window.closeConversationModal = function(event) {
        const modal = document.getElementById('conversationModal');
        if (modal) {
            modal.classList.remove('active');
        }
    };
    
    // HTML ì´ìŠ¤ì¼€ì´í”„
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

})();

    function showPdvDetail(type) {
        const panel = document.getElementById('pdvDetail');
        const allDivs = ['d-auth', 'd-encrypt', 'd-integrity', 'd-verify', 'd-legal', 'd-access'];
        const target = document.getElementById('d-' + type);
        const allCards = document.querySelectorAll('.pcard');
        const clickedCard = event.currentTarget;
        
        allCards.forEach(c => c.classList.remove('active'));
        clickedCard.classList.add('active');
        
        const isOpen = panel.style.display === 'block' && target.style.display === 'block';
        
        allDivs.forEach(id => document.getElementById(id).style.display = 'none');
        
        if (isOpen) {
            panel.style.display = 'none';
            clickedCard.classList.remove('active');
        } else {
            panel.style.display = 'block';
            target.style.display = 'block';
        }
    }
</script>
